<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>岗位介绍 - 启迪之星</title>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>

    <script src="js/axios.min.js"></script>
    <script src="js/vue.min.js"></script>

    <!--topbar js-->
    <script src="js/topbar.js"></script>
    <script src="js/NavigationBar.js"></script>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">

    <!--Material Icon -->
    <link rel="stylesheet" type="text/css" href="css/materialdesignicons.min.css"/>

    <link rel="stylesheet" type="text/css" href="css/fontawesome.css"/>

    <!-- selectize css -->
    <link rel="stylesheet" type="text/css" href="css/selectize.css"/>

    <link rel="stylesheet" type="text/css" href="css/nice-select.css"/>

    <!-- Custom  Css -->
    <link rel="stylesheet" type="text/css" href="css/style.css"/>

</head>

<body>
<div id="app">
    <!-- Loader -->
    <div id="preloader">
        <div id="status">
            <div class="spinner">
                <div class="double-bounce1"></div>
                <div class="double-bounce2"></div>
            </div>
        </div>
    </div>
    <!-- Loader -->

    <!-- Navigation Bar-->
    <navigation-bar></navigation-bar>
    <!-- Navbar End -->

    <!-- Start home -->
    <section class="bg-half page-next-level">
        <div class="bg-overlay"></div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="text-center text-white">
                        <h4 class="text-uppercase title mb-4">岗位描述</h4>
                        <ul class="page-next d-inline-block mb-0">
                            <li><a href="index.html" class="text-uppercase font-weight-bold">主页</a></li>
                            <li><a href="job-list.html" class="text-uppercase font-weight-bold">工作岗位</a></li>
                            <li>
                                <span class="text-uppercase text-white font-weight-bold">岗位描述</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end home -->

    <!-- JOB DETAILS START -->
    <section class="section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-md-7">
                    <div class="job-detail border rounded p-4">
                        <div class="job-detail-content">
                            <img src="images/featured-job/img-4.png" alt=""
                                 class="img-fluid float-left mr-md-3 mr-2 mx-auto d-block">
                            <div class="job-detail-com-desc overflow-hidden d-block">
                                <h4 class="mb-2"><a href="#" class="text-dark">{{info.companyname}}</a></h4>
                                <p class="text-muted mb-0"><i class="mdi mdi-map-marker mr-2"></i>{{info.place}}</p>

                            </div>
                        </div>

                        <div class="job-detail-desc mt-4">
                            <p class="text-muted mb-3" id="text_1">{{info.company}}</p>

                            <p class="text-muted mb-0">{{info.worktype}}</p>
                            <p class="text-muted mb-0">招聘人数:{{info.numberofrecruitment}}</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12">
                            <h5 class="text-dark mt-4">岗位要求:</h5>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12">
                            <div class="job-detail border rounded mt-2 p-4">
                                <div class="job-detail-desc">
                                    <p class="text-muted mb-3">
                                        {{info.detail2}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-lg-12">
                            <h5 class="text-dark mt-4">主要工作内容:</h5>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12">
                            <div class="job-detail border rounded mt-2 p-4">
                                <div class="job-detail-desc">
                                    <div class="job-details-desc-item">
                                        <div class="float-left mr-3">
                                            <i class="mdi mdi-send text-primary"></i>
                                        </div>
                                        <p class="text-muted mb-2">{{info.detail3}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-5 mt-4 mt-sm-0">
                    <div class="job-detail border rounded p-4">
                        <h5 class="text-muted text-center pb-2"><i class="mdi mdi-map-marker mr-2"></i>工作信息</h5>

                        <div class="job-detail-location pt-4 border-top">
                            <div class="job-details-desc-item">
                                <div class="float-left mr-2">
                                    <i class="mdi mdi-bank text-muted"></i>
                                </div>
                                <p class="text-muted mb-2">: {{info.company}}</p>
                            </div>

                            <div class="job-details-desc-item">
                                <div class="float-left mr-2">
                                    <i class="mdi mdi-email text-muted"></i>
                                </div>
                                <p class="text-muted mb-2">: {{info.email}}</p>
                            </div>

                            <div class="job-details-desc-item">
                                <div class="float-left mr-2">
                                    <i class="mdi mdi-web text-muted"></i>
                                </div>
                                <p class="text-muted mb-2">: {{info.edubackground}}</p>
                            </div>

                            <div class="job-details-desc-item">
                                <div class="float-left mr-2">
                                    <i class="mdi mdi-cellphone-iphone text-muted"></i>
                                </div>
                                <p class="text-muted mb-2">: {{info.phone}}</p>
                            </div>

                            <div class="job-details-desc-item">
                                <div class="float-left mr-2">
                                    <i class="mdi mdi-currency-usd text-muted"></i>
                                </div>
                                <p class="text-muted mb-2">: {{info.money}}</p>
                            </div>

                            <div class="job-details-desc-item">
                                <div class="float-left mr-2">
                                    <i class="mdi mdi-security text-muted"></i>
                                </div>
                                <p class="text-muted mb-2">: {{info.workyear}}</p>
                            </div>

                            <div class="job-details-desc-item">
                                <div class="float-left mr-2">
                                    <i class="mdi mdi-clock-outline text-muted"></i>
                                </div>
                                <p class="text-muted mb-2">: 发布于{{info.time}}</p>
                            </div>

                            <h6 class="text-dark f-17 mt-3 mb-0">分享给朋友:</h6>
                            <ul class="social-icon list-inline mt-3 mb-0">
                                <li class="list-inline-item"><a v-bind:href="win" class="rounded"><i
                                        class="mdi mdi-facebook" onClick='copyUrl()'></i></a></li>
                                <li class="list-inline-item"><a v-bind:href="win" class="rounded"><i
                                        class="mdi mdi-twitter" onClick='copyUrl()'></i></a></li>
                                <li class="list-inline-item"><a v-bind:href="win" class="rounded"><i
                                        class="mdi mdi-google-plus" onClick='copyUrl()'></i></a></li>
                                <li class="list-inline-item"><a v-bind:href="win" class="rounded"><i
                                        class="mdi mdi-whatsapp" onClick='copyUrl()'></i></a></li>
                                <li class="list-inline-item"><a v-bind:href="win" class="rounded"><i
                                        class="mdi mdi-linkedin" onClick='copyUrl()'></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="job-detail border rounded mt-4">
                        <button class="btn btn-primary btn-block" v-on:click='insert' v-bind:disabled="keyong">
                            <!--                                <a href="#" class="btn btn-primary btn-block" v-on:click='insert' v-bind:disabled="keyong">-->
                            {{shenqing}}
                            <!--                                </a>-->
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- JOB DETAILS END -->

    <!-- footer start -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-12 mb-0 mb-md-4 pb-0 pb-md-2">
                    <a href="javascript:void(0)"><img src="images/logo-light.png" height="20" alt=""></a>
                    <p class="mt-4">启迪之星自1999年清华科技园孵化器成立起，累计投资100多个初创企业，投资总额超过1亿元 人民币，其中投资项目的地
                        方基金覆盖东北，华中，东部等地区，重点关注互联网+、TMT、 节能环保、新材料、生物医 药、先进制造、教育培训、 智能+、现代服务、大消费等 领域。</p>
                </div>
                <div class="col-lg-3 col-md-4 col-12 mt-4 mt-sm-0 pt-2 pt-sm-0">
                    <p class="text-white mb-4 footer-list-title">启迪导航</p>
                    <ul class="list-unstyled footer-list">
                        <li><a href="http://www.tusstar.com/" class="text-foot"><i
                                class="mdi mdi-chevron-right"></i> 启迪之星</a></li>
                        <li><a href="http://invest.tusstar.com/" class="text-foot"><i
                                class="mdi mdi-chevron-right"></i> 启迪天使投资</a></li>
                        <li><a href="index.html" class="text-foot"><i class="mdi mdi-chevron-right"></i>
                            启迪之星(青海)</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-4 col-12 mt-4 mt-sm-0 pt-2 pt-sm-0">
                    <p class="text-white mb-4 footer-list-title">功能</p>
                    <ul class="list-unstyled footer-list">
                        <li><a href="#" class="text-foot"><i class="mdi mdi-chevron-right"></i> 企业登录</a></li>
                        <li><a href="about.html" class="text-foot"><i class="mdi mdi-chevron-right"></i> 关于我们</a>
                        </li>
                        <li><a href="faq.html" class="text-foot"><i class="mdi mdi-chevron-right"></i> 常见问题</a></li>
                    </ul>
                </div>

                <div class="col-lg-3 col-md-4 col-12 mt-4 mt-sm-0 pt-2 pt-sm-0">
                    <p class="text-white mb-4 footer-list-title f-17">关于我们</p>
                    <ul class="list-unstyled text-foot mt-4 mb-0">
                        <li>启迪之星(青海)分公司</li>
                        <li class="mt-2">青海省西宁市城北区</li>
                        <li class="mt-2">test@test.com</li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- footer end -->
    <hr>
    <footer class="footer footer-bar">
        <div class="container text-center">
            <div class="row justify-content-center">
                <div class="col-12">
                    <div class="">
                        <p class="mb-0">© 2019 启迪之星(青海). Design by <a href="https://www.qhu.edu.cn/">青海大学</a>.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!--end container-->
    </footer>
</div>
<!--end footer-->
<!-- Footer End -->

<!-- Back to top -->
<a href="#" class="back-to-top rounded text-center" id="back-to-top">
    <i class="mdi mdi-chevron-up d-block"> </i>
</a>
<!-- Back to top -->

<!-- javascript -->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/jquery.easing.min.js"></script>
<script src="js/plugins.js"></script>

<!-- selectize js -->
<script src="js/selectize.min.js"></script>

<script src="js/jquery.nice-select.min.js"></script>

<script src="js/app.js"></script>

<script>
    var app = new Vue({
        el: '#app',
        data: {
            info: {},
            name: "",
            newlin: "",
            win: "",
            keyong: false,
            shenqing: "申请这份职位",
        },
        mounted() { //页面渲染完成后执行这一块
            win = window.location.href;
            const name = this.getUrlKey("name", window.location.href)
            let self = this;
            axios.post('/bussiness', {
                code: "1003",
                name: name,
            })
                .then(function (response) {
                    if (response.data == "errortypenouser") {
                        alert("用户未登录")
                        window.location = "login.html"
                        return
                    } else {
                        self.info = response.data[0]
                        axios
                            .post('/users', {
                                code: '1002',
                                companyname: self.info.companyname,
                                company: self.info.company,
                                flag: "1"
                            })
                            .then(function (response) {
                                if (response.data == "noagain") {
                                    self.keyong = true
                                    self.shenqing = "已申请此职位"
                                }
                            });

                    }
                })
                .catch(function (error) {
                    console.log(error);
                });
            axios.post('/users', {
                code: "1005",
            })
                .then(function (response) {
                    if (response.data == "nouser") {
                        self.name = "未登录"
                        self.iflogin = "/login.html"
                        window.alert("用户未登录")
                    } else {
                        self.name = response.data.username
                        self.isadmin = response.data.studentisadmin
                        self.phone = response.data.phone
                        if (self.isadmin == "2") {
                            self.newlin = "/enterpriseCenter.html?phone=" + "'" + self.phone + "'"
                            self.showtype = "发布一个岗位"
                            self.turntype = "/post-a-job.html"
                        } else if (self.isadmin == "0") {
                            self.newlin = "/userCenter.html?phone=" + "'" + self.phone + "'"
                            if (response.data.haveResume) {
                                self.showtype = "完善简历"
                                self.turntype = "update-resume.html"
                            } else {
                                self.showtype = "新建简历"
                                self.turntype = "create-resume.html"
                            }
                        }
                    }
                })
                .catch(function (error) {
                    console.log(error);
                });
        },
        methods: {
            getUrlKey: function (name, url) {
                return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(url) || [, ""])[1].replace(/\+/g, '%20')) || null
            },
            insert: function (response) {
                var se = confirm("您确定要申请这个职位吗？")
                if (se == true) {
                    var self = this
                    axios.post('/users', {
                        code: '1002',
                        companyname: self.info.companyname,
                        company: self.info.company
                    })
                        .then(function (data) {
                            if (data.data == "success") {
                                alert('申请成功')
                                window.location.reload();
                            } else if (data.data == "noresume") {
                                alert('您尚未新建简历')
                                window.location = "/create-resume.html"
                            } else if (data.data == "notstudent") {
                                alert('您的身份不是学生')
                                window.location.reload();
                            } else if (data.data == "noagain") {
                                alert('您已经申请过一次，请勿重新申请')
                                self.keyong = true
                                self.shenqing = "已申请此职位"
                                console.log(self.keyong)
                                console.log(self.shenqing)
                                window.location.reload();
                            } else if (data.data == "error") {
                                alert('失败')
                                window.location.reload();
                            }
                        })
                        .catch(function (error) {
                            console.log('.....', error)
                        })
                }
            }
        }
    })
</script>
<script language="javascript">
    function copyUrl() {
        var clipBoardContent = this.location.href;
        console.log(clipBoardContent);
        CopyToClipboard(clipBoardContent);
        alert("链接复制成功");
    }

    function CopyToClipboard(input) {
        var textToClipboard = input;
        var success = true;
        if (window.clipboardData) {
            window.clipboardData.setData("Text", textToClipboard);
        } else {
            var forExecElement = CreateElementForExecCommand(textToClipboard);
            SelectContent(forExecElement);
            var supported = true;
            try {
                if (window.netscape && netscape.security) {
                    netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
                }
                success = document.execCommand("copy", false, null);
            } catch (e) {
                success = false;
            }
            document.body.removeChild(forExecElement);
        }

        if (!success) {
            alert("Your browser doesn't allow clipboard access!");
        }
    }

    function CreateElementForExecCommand(textToClipboard) {
        var forExecElement = document.createElement("div");
        forExecElement.style.position = "absolute";
        forExecElement.style.left = "-10000px";
        forExecElement.style.top = "-10000px";
        forExecElement.textContent = textToClipboard;
        document.body.appendChild(forExecElement);
        forExecElement.contentEditable = true;

        return forExecElement;
    }

    function SelectContent(element) {
        var rangeToSelect = document.createRange();
        rangeToSelect.selectNodeContents(element);
        var selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(rangeToSelect);
    }
</script>
</body>

</html>